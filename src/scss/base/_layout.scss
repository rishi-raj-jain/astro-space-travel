@use '../functions/fluid' as *;

@layer base.layout {
  .lane {
    display: grid;
    grid-template-columns:
      minmax(var(--site-spacing), 1fr)
      minmax(0, var(--site-constrain))
      minmax(var(--site-spacing), 1fr);
    place-content: center;

    > * {
      grid-column: 2;
    }
  }

  .even-columns {
    flex-wrap: wrap;

    > * {
      flex: 1 1 16rem;
    }
  }

  .grid-layout {
    display: grid;
    grid-template-columns: minmax(0, 1fr) min(100% - var(--site-spacing) * 2) minmax(0, 1fr);
    gap: var(--site-spacing);

    > * {
      max-inline-size: 62ch;
      grid-column: 2;
    }

    body:not(.home) & {
      padding-block: #{fluid(24px, 72px, 600px, 1200px)};

      @media (--for-phone-only) {
        justify-items: center;
        text-align: center;
      }

      > :first-child {
        grid-column: 2 / -2;

        @media (--for-phone-only) {
          grid-column: 2;
        }
      }
    }

    body:is(.home) & {
      padding-block: #{fluid(32px, 56px, 600px, 900px)};

      @media (--until-tablet-l) {
        place-items: center;
        text-align: center;
      }

      @media (--for-tablet-l-up) {
        align-items: end;
        padding-block-end: max(6rem, 18vh);

        > :first-child {
          grid-column: 2;
          justify-self: flex-start;
        }

        > :last-child {
          grid-column: 3;
          justify-self: flex-end;
        }
      }
    }

    @media (--for-tablet-l-up) {
      grid-template-columns:
        minmax(0, 1fr)
        repeat(2, minmax(0, calc(var(--site-constrain) / 2 - var(--site-spacing) / 2)))
        minmax(0, 1fr);
    }
  }
}
